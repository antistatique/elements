@charset 'utf-8';

.question {
  h3,
  .h3 {
    margin-top: 1rem;
  }
}

.question-img {
  flex: 0 0 100%;
}

.question-answers {
  display: flex;
  flex-flow: column nowrap;
}

.question-answer {
  border-top: 1px solid $gray-200;

  .custom-radio {
    padding: 0;
  }

  .custom-control-label {
    padding: 1rem 0;

    &:before {
      top: calc(50% - 0.5rem);
    }
  }
}

@include media-breakpoint-up(lg) {
  $hover-up: 0.5rem;
  $checked-tag: 1.7rem;

  .question {
    display: flex;
    flex-flow: row nowrap;
    align-items: stretch;
    background-image: linear-gradient(to right, $white 30%, $gray-100 30%);
    padding: 10rem 0;

    h3,
    .h3 {
      margin-top: 0;
      margin-bottom: 3rem;
    }
  }

  .question-img {
    flex: 0 0 45%;

    picture,
    img {
      display: block;
      width: 100% !important;
    }
  }

  .question-answers {
    display: flex;
    flex-flow: row nowrap;
  }

  .question-answer {
    position: relative;
    border: none;
    z-index: 1;
    flex-grow: 1;
    //margin-left: -1px;

    // gray trapeze
    &:after {
      content: ' ';
      display: block;
      position: relative;
      bottom: 0;
      width: 100%;
      border-top: $hover-up solid $gray-200;
      border-left: $hover-up solid transparent;
      border-right: $hover-up solid transparent;
      height: 0;
      margin-top: -$hover-up;
      z-index: -1;
    }

    .custom-control-label {
      width: 100%;
      height: 100%;
      padding: 1rem 1.3rem;
      background: $white;
      outline: 1px solid $gray-200;
      transition:
        padding 0.2s,
        margin 0.2s,
        border 0.2s;

      @keyframes popin {
        100% {
          transform: scale(1);
        }
      }

      &:before {
        $half-checked-tag: $checked-tag/2;

        content: ' ';
        position: absolute;
        top: -$half-checked-tag;
        left: calc(50% - #{$half-checked-tag});
        width: $checked-tag;
        height: $checked-tag;
        border: none;
        margin-top: 0;
        transform: scale(0);
        transition: margin 0.2s ease;
        box-shadow: none !important;
      }

      &:after {
        display: none;
      }

      &:hover {
        cursor: pointer;
        margin-top: -$hover-up;
        outline-color: $black;
        z-index: 99;

        &:before {
          margin-top: -$hover-up;
        }
      }
    }
  }

  .custom-radio {
    display: block;
    height: 100%;

    .custom-control-input:checked ~ .custom-control-label {
      outline-color: $black;
      z-index: 99;

      &:before {
        display: block;
        animation: popin 0.2s forwards;
      }
    }
  }

  .question-content {
    padding: 0 4rem;
  }
}
